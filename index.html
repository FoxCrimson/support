<!doctype html>
<html lang="en-US">

<head>
    <title>Perfecto Support Portal</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="Perfecto Suppport Portal - Knowledge Base, Online University, Chat, Case Submission, and more.">
    <link rel="canonical" href="https://support.perfecto.io">
    <meta property="og:url" content="https://support.perfecto.io">
    <meta property="og:site_name" content="Perfecto.io">
    <meta property="og:title" content="Get Support">
    <meta property="og:type" content="article">
    <meta property="og:description" content="Perfecto Suppport Portal - Knowledge Base, Online University, Chat, Case Submission, and more.">
    <meta property="og:image" content="https://www.perfecto.io/wp-content/uploads/2018/01/perfecto-logo.png">
    <meta property="article:publisher" content="https://www.facebook.com/pages/Perfecto-Mobile-Inc/230120033794254">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Get Support - Perfecto.io">
    <meta name="twitter:site" content="@perfectomobile">
    <meta name="twitter:creator" content="@perfectomobile">
    <script type="application/ld+json">{"@context":"https:\/\/schema.org","@type":"Organization","url":"https:\/\/support.perfecto.io\/","sameAs":["https:\/\/www.facebook.com\/pages\/Perfecto-Mobile-Inc\/230120033794254","https:\/\/www.linkedin.com\/company\/perfecto-mobile","https:\/\/www.youtube.com\/user\/PerfectoMobile","https:\/\/twitter.com\/perfectomobile"],"@id":"#organization","name":"Perfecto","logo":"https:\/\/www.perfecto.io\/wp-content\/uploads\/2018\/01\/perfecto-logo-sticky.png"}</script>
    <link rel="shortcut icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAACZFBMVEV/ukqBu0qDvEqIvUqIvkqJv0qKvkqMwEmOwUmPwEqPwUmQwUqRwUmSwUmUwkiUw0mWwkmWw0iWxEmXxUidxkidxkmexUmexkiexkmfxkifxkmfx0igxkigxkmiyEikyEimykenyUipy0ary0esy0eszEeuy0ivzUexzUezzka0z0a3z0a40EW50Ea50Ee60Ua70Ua90kW90kbA00XC1UXE1EXF1EXG1UXH1UXJ1kXM2EPO2ETP2kPS20TU20Tb3kPf30Lg4ELm40Lr5ELt5UL36UD///+FvEqPwUmty0etzEbP2UWLv0rF1USAu0qLv0r+7D+Lvkq50UaDvEqqykjj4UKbxUiBu0vR2kSjyEjT2kS5z0b150GxzUe80Ua0z0Z9uUycxkiEvUq0zkfL2ES/0kbb3kKHvUqfxUnJ10STwUqSwUmdxUmWwkqGvEqKv0rp5EKwzEeSwUmJvkqoykfV3EPu5kGOwUmuy0iuy0i60kWXxEmpyUfI1kXB1EWex0i90kXb3kPU20R7uEu60UWXw0qEvEqPwUmCu0rI1UTR20Pc3kOPv0qpykh6uUuEvErO2ESqy0fI1kVutUtxtUt7uUt8uUuBvEqCvEqDvEqEvEqEvEuFvEqFvUqGvUqIvUqIvkqJvkqKv0qMwEqOv0qOwEmQwEqQwUqSwkiTwkmWwkmWw0iWw0qXxEibxEmbxUibxUmcxkidxUifx0ihx0iixkmix0ijyUimykepykitzUauy0ewzUaxzEexzUiyzkezzka1zUi70ka80kW90UbA00XB0kbN2UPO2UTW3EPg4ELi4ULZWoPyAAAAk3RSTlMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAECAwQECiArLTk7PT9ARUZHSExOWFldYGJkaG9xeXuAhomNlZaWmZ2eo6esra+xs7S1ur3Bw8XGzM/R1NbW2Nnc3d3i5ufo7Ozu8/PSq7KbAAABD0lEQVQY02NwMzczd7YKr5x0qjFOzsbBjcHN3NTcpWr2wROnT+4vsXcEClhaeDdNz4qOCI0qXJ3mChQwMq494iOgbetkp5twKAYooJG8r0JNRs/O0VqDpaEAKBDSuzVHUlxRXVVLx6SrFCiQsW5VNi8Pj4iSpmHm8RSgQNGyxcXMrMLyXvEth+t8gQL5C+a2MXBIR07ctedAkD5QIGnWjJl+7GEbN2/fEWsAEgjunzUnna185dr19QoqykAB97z5C3v8OxYtXVEtxM8PFGALXLJ8TWvf1HmL2j24uIAC3Jy5Gzbt3DZt8pRmJkZGoICEqFTN7r3Hjm5Zm8gnKAgUkJUV80ztnNBdFmDIIyLiBgA3nl2Ao5CUsQAAAABJRU5ErkJggg==" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous" />
    <link rel="apple-touch-icon" href="https://www.perfecto.io/wp-content/uploads/2018/03/xfavicon-57px.png.pagespeed.ic.MWgvCxQIe2.png">
    <link rel="apple-touch-icon" sizes="114x114" href="https://www.perfecto.io/wp-content/uploads/2018/03/xfavicon-114px.png.pagespeed.ic.VQUVzgxZlf.png">
    <link rel="apple-touch-icon" sizes="72x72" href="https://www.perfecto.io/wp-content/uploads/2018/03/xfavicon-72px.png.pagespeed.ic.TbgkG-DjCG.png">
    <link rel="apple-touch-icon" sizes="144x144" href="https://www.perfecto.io/wp-content/uploads/2018/03/xfavicon-144px.png.pagespeed.ic.nHnctNtEoT.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous" />
    <link rel="stylesheet" href="support.css" />
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300" rel="stylesheet">
    <script async defer src="https://www.google.com/recaptcha/api.js"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2078617-3"></script>
    <script async src="//script.crazyegg.com/pages/scripts/0058/5510.js"></script>
    <script src="https://c.la1-c1-lon.salesforceliveagent.com/content/g/js/41.0/deployment.js"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js" integrity="sha384-SlE991lGASHoBfWbelyBPLsUlwY1GwNDJo3jSJO04KZ33K2bwfV9YBauFfnzvynJ" crossorigin="anonymous"></script>
    <script>
        // Salesforce Live Agent
        liveagent.init('https://d.la1-c1-lon.salesforceliveagent.com/chat', '572D000000001yp', '00D200000001UUG');
        if (!window._laq) {
          window._laq = [];
        }
        window._laq.push(function(){
            liveagent.showWhenOnline('573D0000000028q', document.getElementById('liveagent_button_online_573D0000000028q'));
            liveagent.showWhenOffline('573D0000000028q', document.getElementById('liveagent_button_offline_573D0000000028q'));
        });

        // Global site tag (gtag.js) - Google Analytics
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-2078617-3');

        // Marketo Munchkin
        (function() {
            var didInit = false;
            function initMunchkin() {
                if(didInit === false) {
                    didInit = true;
                    Munchkin.init('482-YUQ-296');
                }
            }
            var s = document.createElement('script');
            s.type = 'text/javascript';
            s.async = true;
            s.src = 'https://munchkin.marketo.net/munchkin-beta.js';
            s.onreadystatechange = function() {
                if (this.readyState == 'complete' || this.readyState == 'loaded') {
                    initMunchkin();
                }
            };
            s.onload = initMunchkin;
            document.getElementsByTagName('head')[0].appendChild(s);
        })();
    </script>
</head>

<body>
    <section class="cover text-center">
        <!--Semi-transparent navbar over background image-->
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container">
                <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarToggler-1" aria-controls="navbarToggler-1" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <span class="navbar-brand"><a href="https://www.perfecto.io"><img src="https://support.perfecto.io/perfecto.svg" style="height:70px; width:220px" /></a></span>
                <div class="collapse navbar-collapse justify-content-end" id="navbarToggler-1">
                    <ul class="navbar-nav mt-2 mt-md-0">
                        <li class="nav-item">
                            <a class="nav-link" href="https://perfecto.litmos.com" target="_blank">Online Training</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="http://developers.perfectomobile.com" target="_blank">Community</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="https://perfectomobile.force.com/customers/" target="_blank"><i class="fa fa-user"></i> Customer Login
                            </a>
                        </li>
                    </ul>
                </div>
            </div><!--container-->
        </nav>
        <!--Middle of the background image-->
        <div class="container">
            <div id="submitStatus" class="alert alert-success alert-dismissible collapse" role="alert">
                Your case was received by Support. An email confirmation is on the way.
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <h1 class="text-center">Welcome to Perfecto Support</h1>
            <h3 class="text-center d-none d-sm-block">Resources at your fingertips.</h3> 
            <div class="row justify-content-around">
                <div class="col-lg-8 col-md-10" style="padding-top:45px;">
                    <form id="searchForm" name="searchForm" action="http://developers.perfectomobile.com/dosearchsite.action" method="GET">
                        <div class="form-group">
                            <div class="input-group input-group-lg">
                                <div class="input-group-prepend">
                                    <button class="btn btn-secondary" id="submitButton" type="submit"><span class="fas fa-search"></span></button>
                                </div>
                                <input class="form-control typeahead" name="queryString" id="queryString" type="text" required autofocus placeholder="Search Support" aria-label="Search Support" autocomplete="off">
                            </div>
                        </div>
                    </form>
                    <div id="searchStatus" class="alert alert-success collapse" role="alert">
                        <img src="https://support.perfecto.io/loading.gif" style="height:25px; width: 25px;" title="Loading..." /> Searching the Knowledge Base. Please wait...
                    </div>
                </div><!--col-6-->
            </div><!--row-->
        </div><!--cover-container-->
    </section>
    <!--Choose a Topic pills-->
    <div class="container">
        <div id="searchResults"></div>
        <h1 class="text-center topic">Choose a Topic</h1>
        <ul id="topicTabs" class="nav nav-pills nav-justified" role="tablist">
            <li class="nav-item">
                <a id="deviceTab" data-toggle="tab" role="tab" aria-controls="device" class="nav-link active" href="#"><span class="fas fa-mobile-alt"></span><br/>Device</a>
            </li>
            <li class="nav-item">
                <a id="webTab" data-toggle="tab" role="tab" aria-controls="web" class="nav-link" href="#"><span class="fas fa-globe"></span><br/>Browser</a>
            </li>
            <li class="nav-item">
                <a id="automationTab" data-toggle="tab" role="tab" aria-controls="automation" class="nav-link" href="#"><span class="fas fa-code-branch"></span><br/>Automation</a>
            </li>
            <li class="nav-item">
                <a id="performanceTab" data-toggle="tab" role="tab" aria-controls="performance" class="nav-link" href="#"><span class="fas fa-stopwatch"></span><br/>Performance</a>
            </li>
            <li class="nav-item">
                <a id="requestTab" data-toggle="tab" role="tab" aria-controls="request" class="nav-link" href="#"><span class="far fa-question-circle"></span><br/>Request</a>
            </li>
            <li class="nav-item">
                <a id="suggestionTab" data-toggle="tab" role="tab" aria-controls="suggestion" class="nav-link" href="#"><span class="fas fa-lightbulb"></span><br/>Suggestion</a>
            </li>
        </ul>
        <div class="row">&nbsp;</div>
        <div class="row justify-content-around">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header"><a class="btn btn-light disabled">Articles below might help...</a></div>
                    <div id="articles" class="card-body">
                    </div>
                </div><br/>
            </div>
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <a class="btn btn-light disabled"><i class="fas fa-pencil-alt"></i> Submit a request below</a>
                        <a class="btn btn-success float-right" href="javascript://Chat" id="liveagent_button_online_573D0000000028q" onclick="liveagent.startChat('573D0000000028q')" style="display: none;"><i class="far fa-comment-alt"></i> Get Help via Chat</a>
                        <a class="btn btn-light disabled float-right" style="display: none;" id="liveagent_button_offline_573D0000000028q"><i class="far fa-comment-alt"></i> Chat Offline</a>
                    </div>
                    <div class="card-body">
                        <form id="requestForm" action="https://webto.salesforce.com/servlet/servlet.WebToCase?encoding=UTF-8" target="_self" method="post">
                            <input type="hidden" id="captcha_settings" name="captcha_settings" value='{"keyname":"perfecto_io","fallback":"true","orgId":"00D200000001UUG","ts":""}'>
                            <input type="hidden" name="orgid" value="00D200000001UUG">
                            <input type=hidden name="recordType" id="recordType" value="01220000000HQCE">
                            <input type="hidden" id="retURL" name="retURL" value="">
                            <input type="hidden" id="type" name="type" value="Issue">
                            <input type="hidden" id="topic" name="00ND0000006MZHc" value="Device Issue">
                            <input type="hidden" id="priority" name="priority" value="Low">
                            <input type="hidden" id="caseSystemType" name="00ND0000005eFGw" value="N/A">
                            <div id="cloudStatusAlert" class="alert alert-danger alert-dismissible collapse" role="alert">
                                <span id="message"></span>
                                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="form-group">
                                <label for="fqdn" class="sr-only">Your cloud's FQDN</label>
                                <input class="form-control" type="text" id="fqdn" name="00ND0000002w9Lj" placeholder="Cloud FQDN like name.perfectomobile.com" maxlength="255" />
                            </div>
                            <div class="form-group">
                                <label for="name" class="sr-only">Your name</label>
                                <input type="text" class="form-control" placeholder="First and last name" id="name" name="name" autocomplete="name" maxlength="80" />
                            </div>
                            <div class="form-group">
                                <label for="email" class="sr-only">Your work email address</label>
                                <input class="form-control" type="email" id="email" name="email" placeholder="Work email address" autocomplete="email" maxlength="80" />
                            </div>
                            <div class="form-group">
                                <label for="phone" class="sr-only">Best phone number to reach you</label>
                                <input class="form-control" type="phone" id="phone" name="phone" placeholder="Phone number with country code" autocomplete="tel" maxlength="40" />
                            </div>
                            <div class="form-group">
                                <label for="severity" class="sr-only">Severity of this request</label>
                                <select id="severity" name="00ND0000005cKFJ" class="form-control">
                                    <option selected value="" disabled>Select a severity...</option>
                                    <option value="Low/Minor">Low/Minor</option>
                                    <option value="Medium">Medium</option>
                                    <option value="Major">Major</option>
                                    <option value="Critical">Critical</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="subtopic" class="sr-only">Subtopic</label>
                                <select id="subtopic" name="00ND0000004nqq2" class="form-control">
                                    <option selected value="" disabled>Select a subtopic...</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="subject" class="sr-only">Subject</label>
                                <input class="form-control" type="text" id="subject" name="subject" placeholder="Subject of your request" maxlength="80" />
                            </div>
                            <div class="form-group">
                                <label for="description" class="sr-only">Description of your issue</label>
                                <textarea class="form-control" rows="7" id="description" name="description" placeholder="More details will help us resolve your request faster."></textarea>
                                <input type="hidden" id="parameters">
                                <small id="fileUploadHelp" class="form-text text-muted">Include info like device ID, execution report URL, etc.</small>
                            </div>
                            <p>Need to attach a screenshot or file? Reply to our email confirmation or <a href="https://perfectomobile.force.com/customers/" target="_blank">login to the Support Portal</a> and open your case there.</p>
                            <input type="hidden" id="external" name="external" value="1" />
                            <div class="g-recaptcha" data-sitekey="6Lc90EsUAAAAAKEBIwXp-jWbTY1GElbWNiW4cg1E" data-callback="recaptchaCallback"></div>
                            <input type="hidden" class="hiddenRecaptcha required" name="hiddenRecaptcha" id="hiddenRecaptcha"><br/>
                            <input type="submit" class="btn btn-success" id="submit">
                        </form>
                    </div><!--card-body-->
                </div><!--card-->
            </div><!--col-6-->
        </div><!--row-->
    </div><!--container-->
    <footer class="site-tree">
        <div class="container">
            <div class="row">
                <div class="col-md-2">
                    <nav class="nav flex-column">
                        <a class="nav-link active" href="https://www.perfecto.io/platform/overview/">PLATFORM OVERVIEW</a>
                        <a class="nav-link" href="https://www.perfecto.io/platform/the-cloud-based-testing-lab/">The Cloud-Based Testing Lab</a>
                        <a class="nav-link" href="https://www.perfecto.io/platform/test-automation/">Test Automation</a>
                        <a class="nav-link" href="https://www.perfecto.io/platform/test-automation-reporting-analytics-digitalzoom/">Test Automation Analytics with Digitalzoom™</a>
                    </nav>
                </div><!--col-md-2-->
                <div class="col-md-2">
                    <nav class="nav flex-column">
                        <a class="nav-link active" href="https://www.perfecto.io/platform/capabilities/continuous-testing-for-devops/">BUILD AND...</a>
                        <a class="nav-link" href="https://www.perfecto.io/platform/capabilities/continuous-testing-for-devops/">Continuous Testing for DevOps</a>
                        <a class="nav-link" href="https://www.perfecto.io/platform/the-cloud-based-testing-lab/cross-browser-testing/">Test across browsers for Web &amp; Mobile</a>
                        <a class="nav-link" href="https://www.perfecto.io/platform/debug-with-devtunnel/">Debug with DevTunnel</a>
                        <a class="nav-link" href="https://www.perfecto.io/platform/test-automation-reporting-analytics-digitalzoom/">Visualize Analytics using DigitalZoom™</a>
                        <a class="nav-link" href="http://www.perfecto.io/platform/capabilities/real-user-simulation-with-windtunnel/">Real User Simulation with WindTunnel™</a>
                        <a class="nav-link" href="http://www.perfecto.io/plan-with-the-blueprint-for-continuous-testing-success/">Blueprint for Continuous Testing Success</a>
                    </nav>
                </div><!--col-md-2-->
                <div class="col-md-2">
                    <nav class="nav flex-column">
                        <a class="nav-link active" href="">INTEGRATIONS</a>
                        <a class="nav-link" href="https://www.perfecto.io/perfecto-integrations/">See all 30+ Integrations</a>
                        <a class="nav-link" href="https://www.perfecto.io/ides/">IDE Integrations</a>
                        <a class="nav-link" href="https://www.perfecto.io/continuous-integration-ci/">Continuous Integration (CI) With Perfecto</a>
                        <a class="nav-link" href="https://www.perfecto.io/testing-frameworks/">Testing Frameworks Integrations</a>
                        <a class="nav-link" href="https://www.perfecto.io/api-and-other-integrations/">APIs &amp; Other Integrations</a>
                    </nav>
                </div><!--col-md-2-->
                <div class="col-md-2">
                    <nav class="nav flex-column">
                        <a class="nav-link active" href="#">SUPPORT</a>
                        <a class="nav-link" href="http://developers.perfectomobile.com/display/PD/Documentation">Documentation</a>
                        <a class="nav-link" href="http://developers.perfectomobile.com/questions">Community/Forum</a>
                        <a class="nav-link" href="https://support.perfecto.io">Get Support</a>
                        <a class="nav-link" href="https://www.perfecto.io/support-resources/resources/pluginsextensions/">Plugins/Extensions</a>
                        <a class="nav-link" href="https://www.perfecto.io/support-resources/resources/supported-devices/">Available Devices in the Perfecto Cloud Lab</a>
                    </nav>
                </div><!--col-md-2-->
                <div class="col-md-2">
                    <nav class="nav flex-column">
                        <a class="nav-link active" href="#">COMPANY</a>
                        <a class="nav-link" href="https://www.perfecto.io/careers/">Careers</a>
                        <a class="nav-link" href="https://www.perfecto.io/upcoming-events/">Upcoming Events</a>
                        <a class="nav-link" href="https://www.perfecto.io/company/management-team/">Management Team</a>
                        <a class="nav-link" href="https://www.perfecto.io/company/about-us/">About Us</a>
                        <a class="nav-link" href="https://www.perfecto.io/our-customers/">Our Customers</a>
                        <a class="nav-link" href="https://www.perfecto.io/perfecto-press-releases/">Press Releases</a>
                    </nav>
                </div><!--col-md-2-->
                <div class="col-md-2">
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link active" href="https://www.facebook.com/pages/Perfecto-Mobile-Inc/230120033794254">SOCIAL</a>
                        </li>
                    </ul>
                    <nav class="nav">
                        <a class="nav-link active social" href="https://www.facebook.com/pages/Perfecto-Mobile-Inc/230120033794254" title="Facebook" target="_blank"><i class="fab fa-facebook fa-3x"></i></a>&nbsp;
                        <a class="nav-link active social" href="https://www.twitter.com/perfectomobile" title="Twitter" target="_blank"><i class="fab fa-twitter-square fa-3x"></i></a>&nbsp;
                        <a class="nav-link active social" href="https://vimeo.com/user28035758" title="Vimeo" target="_blank"><i class="fab fa-vimeo-square fa-3x"></i></a>&nbsp;
                        <a class="nav-link active social" href="https://www.youtube.com/user/PerfectoMobile" title="YouTube" target="_blank"><i class="fab fa-youtube-square fa-3x"></i></a>&nbsp;
                        <a class="nav-link active social" href="https://plus.google.com/100849287473108318524" title="Google+" target="_blank"><i class="fab fa-google-plus-square fa-3x"></i></a>&nbsp;
                        <a class="nav-link active social" href="https://www.linkedin.com/company/perfecto-mobile" title="LinkedIn" target="_blank"><i class="fab fa-linkedin fa-3x"></i></a>
                   </nav>
                   <br/><br/>
                   <a title="Norton Secured" class="nav-link" target="_blank" href="https://trustsealinfo.websecurity.norton.com/splash?form_file=fdf/splash.fdf&dn=www.perfectomobile.com&lang=en"><img src="https://www.perfecto.io/wp-content/uploads/2018/02/logo-norton.png"></a>
                </div><!--col-md-2-->
            </div><!--row-->
        </div><!--container-->
    </footer>
    <footer class="copyright">
        <div class="container">
            <div class="row">
                <nav class="nav">
                    <a class="nav-link">Copyright 2018 Perfecto Mobile, Inc. All Rights Reserved.</a>
                    <a class="nav-link active" href="https://www.perfecto.io/terms-conditions/">Terms &amp; Conditions</a>
                    <a class="nav-link active" href="https://www.perfecto.io/privacy-statement/">Privacy Statement</a>
                </nav>
            </div><!--row-->
        </div><!--container-->         
    </footer>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.17.0/jquery.validate.min.js" integrity="sha256-F6h55Qw6sweK+t7SiOJX+2bpSAa3b/fnlrVCJvmEj1A=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.1/umd/popper.min.js" integrity="sha256-AoNQZpaRmemSTxMy9xcqXX5VLwI6IMPYugO7bFHOW+U=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha256-5+02zu5UULQkO7w1GIr6vftCgMfFdZcAHeDtFnKZsBs=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-3-typeahead/4.0.2/bootstrap3-typeahead.min.js" integrity="sha256-LOnFraxKlOhESwdU/dX+K0GArwymUDups0czPWLEg4E=" crossorigin="anonymous"></script>
    <script>
        // Load articles in card lower-left from array (except for Suggestions)
        var loadArticles = function(tabName) {
            if(tabName != 'suggestion') {
                $('#articles').empty(); // Clear the card of past articles
                $.each(caseTree[tabName].articles, function(index, value) {
                    var currentNode = caseTree[tabName].articles[index];
                    var url = currentNode.url;
                    var title = currentNode.title;
                    var synopsis = currentNode.synopsis;
                    var article = `<article><a href="${url}" target="_blank">${title}</a><p class="text-muted">${synopsis}</p></article>`;
                    $('#articles').append(article);
                });
            }
        };

        // Sets Case Type, Topic, and Subtopic
        var loadSubtopics = function(tabName) {
            // Set Case Type and Topic
            $('#type').val(caseTree[tabName].type);
            $('#topic').val(caseTree[tabName].topic);
            switch(tabName) {
                case 'device':
                    $('#caseSystemType').val('Hosted - Mobile');
                    break;
                case 'web':
                    $('#caseSystemType').val('Hosted - Web');
                    break;
                default:
                    $('#caseSystemType').val('N/A');
            }
            $('#description').val(caseTree[tabName].description);
            var subtopicsList = $('#subtopic'); // Get a reference so we don't scan the DOM on $.each below
            subtopicsList.find("option:gt(0)").remove(); // Leave the first item - bag the rest
            // Add the subtopics for the tab
            $.each(caseTree[tabName].subtopics, function(index, value) {
                subtopicsList.append($('<option />').attr('value', value).text(value)); 
            });
        };

        // Extract querystring values
        var qs = function(key) {
            key = key.replace(/[*+?^$.\[\]{}()|\\\/]/g, "\\$&"); // escape RegEx meta chars
            var match = location.search.match(new RegExp("[?&]"+key+"=([^&]+)(&|$)"));
            return match && decodeURIComponent(match[1].replace(/\+/g, " "));
        };

        // Grab inbound querystring params into a string to append to description
        var setHiddenParametersField = function() {
            // Cleanup style later
            var parameters = '';
            var timezone = qs('timezone');
            if(timezone) parameters += `\nUser GMT Offset: ${timezone}`;
            var mcmVersion = qs('mcmVersion');
            if(mcmVersion) parameters += `\nCloud Version: ${mcmVersion}`;
            var manufacturer = qs('manufacturer');
            if(manufacturer) parameters += `\nManufacturer: ${manufacturer}`;
            var model = qs('model');
            if(model) parameters += `\nModel: ${model}`;
            var os = qs('os');
            if(os) parameters += `\nOS Version: ${os}`;
            var deviceId = qs('deviceId');
            if(deviceId) parameters += `\nDevice ID: ${deviceId}`;
            var location = qs('location');
            if(location) parameters += `\nLocation: ${location}`;
            var executionReport = qs('desc');
            if(executionReport) parameters += `\n${executionReport}`;
            if(parameters != '') $('#parameters').val(`\n==== Auto-attached by Perfecto =====${parameters}`);
        };

       // Set timestamp for reCAPTCHA settings submitted to Salesforce
        var refreshCaptchaTimestamp = function() {
            var response = document.getElementById('g-recaptcha-response');
            if (response == null || response.value.trim() == "") {
                var elems = JSON.parse($('#captcha_settings').val());
                elems.ts = JSON.stringify(new Date().getTime());
                $('#captcha_settings').val(JSON.stringify(elems));
            }
        }

        // Search Confluence via undocumented REST API (searchv3)
        var searchConfluence = function(searchText, index) {
            if(searchText != '') {
                const pageSize = 8;
                const url = `https://cors-anywhere.herokuapp.com/http://developers.perfectomobile.com/rest/searchv3/1.0/search?queryString=${encodeURI(searchText)}&startIndex=${index}&pageSize=${pageSize}`;
                $.ajax({
                    url: url,
                    headers: {'X-Requested-With': 'XMLHttpRequest'},
                    dataType: 'json',
                    success: function(data, status, xhr) {
                        console.log('Number of articles', data.total);
                        console.log('Number of pages', Math.ceil(data.total/pageSize));
                        var searchResults = [];
                        var article = '';
                        $('#searchResults').empty(); // Clear the card of past articles
                        $('#searchResults').append('<br/><h2>Search Results</h2');
                        $.each(data.results, function(index, value) {
                            value.title = value.title.replace(/@@@e?n?d?hl@@@/g, ''); // strip out formatting
                            value.bodyTextHighlights = value.bodyTextHighlights.replace(/@@@e?n?d?hl@@@/g, ''); // strip out formatting
                            value.url = `http://developers.perfectomobile.com/pages/viewpage.action?pageId=${value.id}`;
                            article = `<article><a href="${value.url}" target="_blank">${value.title}</a><p class="text-muted">${value.bodyTextHighlights}<br/><span class="article-date">${value.friendlyDate}</span></p></article>`;
                            $('#searchResults').append(article);
                            searchResults.push(article);
                        });
                        $('#searchResults').append("<h2>Didn't help? Please continue below to open a case...</h2");
                        $('#searchStatus').hide();
                        $('body').css('cursor','default');
                    }
                });
                $('#subject').val(searchText);
            }
        };

        // Handle submit on search form
        $('#searchForm').on('submit', function(e) {
            e.preventDefault();  //prevent form from submitting
            $('body').css('cursor','progress');
            $('#searchStatus').show();
            searchConfluence($('#queryString').val(), 0);
        });

        // Handle submit on request form
        $('#requestForm').on('submit', function(e) {
            // Append parameters to description field
            $('#description').val(`${$('#description').val()}${$('#parameters').val()}`);
        });

        // Handle click on tabs
        $('#topicTabs').on('shown.bs.tab', function(e) {
            var selectedTabName = $(e.target).attr('aria-controls');
            loadSubtopics(selectedTabName);
            if(selectedTabName != 'suggestion') {
                $('#subtopic').show();
                $('#severity').show();
                loadSubtopics(selectedTabName);
                loadArticles(selectedTabName);
            } else {
                $('#subtopic').hide();
                $('#severity').hide();
            };
        });

        // Conditionally display outage alerts based on cloudStatus object
        var displayOutageAlerts = function(cloudFQDN) {
            if(cloudStatus.outages.indexOf(cloudFQDN) != -1 || cloudStatus.outages.indexOf('all') != -1) {
                $('#cloudStatusAlert').show();
                $('#message').text(cloudStatus.message);
            }
        };

        // Handle change to FQDN
        $('#fqdn').on('change', function(e) {
            var newFQDN = $(e.target).val();
            displayOutageAlerts(newFQDN);
        });

        // Remove error message on hidden field
        var recaptchaCallback = function() {
            $('#hiddenRecaptcha').valid();
        };

        var cloudStatus = {};
        var caseTree = {};

        // DOM loaded
        $(document).ready(function() {
            // Load typeahead for search field
            $.getJSON('https://support.perfecto.io/typeahead.json', function(data) {
                $('.typeahead').typeahead({
                    source: data
                });
            });

            // Load status of clouds to display alert if one or more clouds are having an outage
            $.getJSON('https://support.perfecto.io/health.json', function(data) {
                cloudStatus = data;
                displayOutageAlerts($('#fqdn').val());
            });

            setInterval(refreshCaptchaTimestamp, 500); // every half-second
            setHiddenParametersField();
            var returnURL = 'https://support.perfecto.io/?submitted=true';
            $('#retURL').val(returnURL);

            // Show confirmation if submitted
            if(qs('submitted')) {
                $('#submitStatus').show();
            }

            // Load required fields from querystring if provided
            var email = qs('username');
            $('#email').val(email);
            $('#email').val(email); // Overcomes Safari bug where placeholder doesn't disappear

            var fqdn = qs('appUrl');
            $('#fqdn').val(fqdn);
            $('#fqdn').val(fqdn); // Overcomes Safari bug where placeholder doesn't disappear

            var phone = qs('phone');
            if(phone && phone.length > 10) { // Often +123 is entered as a phone number on the MCM
                $('#phone').val(phone);
                $('#phone').val(phone); // Overcomes Safari bug where placeholder doesn't disappear                
            }

            var name = qs('name');
            if(name) {
                $('#name').val(name);
                $('#name').val(name); // Overcomes Safari bug where placeholder doesn't disappear                
            }

            var cname = qs('cname');
            if(!fqdn && cname) {
                $('#fqdn').val(`${cname}.perfectomobile.com`);
                $('#fqdn').val(`${cname}.perfectomobile.com`); // Overcomes Safari bug where placeholder doesn't disappear
            }



            // Setup articles and subtopics for default selected tab (Device)
            $.getJSON('https://support.perfecto.io/hierarchy.json', function(data) {
                caseTree = data;
                loadSubtopics('device');
                loadArticles('device');
            });

            // Setup form validate. jQuery Validation bug for selects - must use name not ID
            $('#requestForm').validate({
                ignore: ".ignore",
                rules: {
                    name: {
                        required: true                        
                    },
                    email: {
                        required: true,
                        email: true
                    },
                    '00ND0000002w9Lj': { // fqdn
                        required: true,
                        minlength: 13
                    },
                    subject: {
                        required: true
                    },
                    description: {
                        required: true
                    },
                    '00ND0000005cKFJ': { // severity
                        required: true
                    },
                    '00ND0000004nqq2': { // subtopic
                        required: true
                    },
                    hiddenRecaptcha: {
                        required: function() {
                            if (grecaptcha.getResponse() == '') {
                                return true;
                            } else {
                                return false;
                            }
                        }
                    }
                }
            });
        });

        // Querystring test params
        // ?os=iOS&mcmVersion=18%2E3&deviceId=2A56E99775698D2F1BABD7C1F9D57CA06AF0C7F6&company=Perfecto%20Mobile&cradleId=BOS%2DE8%2D4%2D1%2FVIRTUAL%2F02&hssVersion=18%2E3%2E1&email=nates%40perfectomobile%2Ecom&model=iPhone%2D6&salesforceCustomerId=&location=NA%2DUS%2DBOS&version=10%2E3%2E2&appUrl=demo%2Eperfectomobile%2Ecom&timezone=%2D5&phoneNumber=%2B1%20%28781%29%20697%2D5344&mcmDevVersion=18%2E3%2E0%2E3&manufacturer=Apple&username=nates%40perfectomobile%2Ecom&desc=Execution%20ID%3A%20acirstea%40salesforce.com_AndroidPerfectoCommunityTest_18-03-15_13_00_00_1823%0ATest%20Name%3A%20Android%20Perfecto%20Community%20Test%0AStart%20Time%3A%20Thu%20Mar%2015%202018%2009%3A00%3A12%20GMT-0400%20(EDT)%0AReport%20Link%3A%20https%3A%2F%2Fsalesforce.reporting.perfectomobile.com%2Ftest%2F5aaa6ea7cff47e000b5a7d50%0A
    </script>
</body>

</html>
